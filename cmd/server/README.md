# metrics server

Сервер для сбора метрик времени выполнения, который собирает отчеты от агентов
по протоколу HTTP

## Описание сервера

- доступен по адресу `http://localhost:8080`
- хранит и принимает метрики двух видов:
  - тип `gauge`, `float64` - новое значение должно замещать предыдущее
  - тип `counter`, `int64` - новое значение должно добавляться к предыдущему,
    если какое-то значение уже известно серверу
- принимает метрики по протоколу HTTP методом `POST`
- принимает данные в формате `http://<АДРЕС_СЕРВЕРА>/update/`
  `<ТИП_МЕТРИКИ>/<ИМЯ_МЕТРИКИ>/<ЗНАЧЕНИЕ_МЕТРИКИ>`, `Content-Type: text/plain`
- при успешном приеме возвращает статус `http.StatusOK`
- при попытке передать запрос без имени метрики возвращает `http.StatusNotFound`
- при попытке передать запрос с некорректным типом метрики или
  значением возвращает `http.StatusBadRequest`
- в ответ на запрос `GET http://<АДРЕС_СЕРВЕРА>/value/<ТИП_МЕТРИКИ>/<ИМЯ_МЕТРИКИ>`
  возвращает аккумулированное значение метрики в текстовом виде со статусом
  `http.StatusOK`
- при попытке запроса неизвестной метрики возвращает `http.StatusNotFound`
- __TODO:__ по запросу `GET http://<АДРЕС_СЕРВЕРА>` отдаёт HTML-страницу со списком имён и
  значений всех известных ему на текущий момент метрик